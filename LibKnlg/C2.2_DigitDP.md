<font face='YaHei Consolas Hybrid' size=3>

# 数位DP
---
## __前置知识:__
- [DP](233 "C_DP (页面不存在)")
- [区间](https://baike.baidu.com/item/%E5%8C%BA%E9%97%B4/1273117 "区间(数学概念)_度娘百科")
- 区间的加减法

可选：
- [记忆化搜索](233 "[未分类]记忆化搜索 (页面不存在)")

## 例题_0

题目描述：
> 小C在2018NOIP惨跪，他依稀记得他的准考证号是62，现在小C又将要面临一场比赛，他希望准考证号不连续出现62，同时他又十分讨厌4，所以也不希望4出现在准考证号中。。。\
> 现在他想知道在A和B之间有多少合法的准考证号

这道题可以枚举每一位数，判断是否满足条件并计数

但是...

数据规模：
|数据|A,B|
|--|--|
|20%|1e7|
|100%|**2e9**|

Emmm...

看来dfs和枚举不好使了...

## 数位DP_介绍

数位DP可以用于解决上述问题

<!-- 
求出在给定区间[A,B]内，符合条件P(i)的数i的个数.
条件P(i)一般与数的大小无关，而与 数的组成 有关.

-->

>数位DP用于求区间`[A,B]`中，符合条件`P(i)`的数`i`的个数\
条件`P(i)`通常与数的大小无关，而与 __数的组成__ 有关

例0中所求的正是在数的组成中不包含`4`和`62`的数的个数

## 思路_递推

//此处`f[i,j]`等效`f[i][j]`

首先处理一个`f`数组，记录个数

`f[i,j]`表示位数为`i`，状态为`j`的方案数

对于不同的题目，`j`表示的意义不同

<font color=#66ccff>

如果一个`j`不能满足状态定义...

那就再定义一维

</font>

<font color=#ba0000>

\*注意:`f[i,j]`的信息允许前导`0`

如`f[4,j]`可以表示方案`0023`

</font>

在本题中,`j`表示数字最高位为`j`

如f[4,5]表示5\***的状态数

`f[i,st]=f[i,st]+f[i-1,st~]`

预处理`f`数组后，就可统计区间`[a,b]`的答案了

根据 区间减法:

<font color=#aaaaaa>(下列两则表述均使用区间)</font>

`Ans[j,i]=Ans[0,i]-Ans[0,j]`

对于整数，就有：

`Ans[j,i]=Ans[0,i]-Ans[0,j-1]`

对于统计区间`[0,n]`，可以从高到低枚举哪一位比`n`小

---

$e.g:$

`n`=`345`

对于所有的三位数，第一位是`0`的情况都满足条件

所以`ans+=f[3,0]`

同时,第一位是`1`,`2`都满足条件

所以`ans+=f[3,1],ans+=f[3,2]`

第一位是3是不全部满足条件

所以枚举下一位

以此类推:

`ans+=f[2,0~3],ans+=f[1,0~4]`

<!--
## 例题_0 参考代码

[1515.cpp](..\ProbW\1515_std.cpp)

-->
---
---
</font>